var memo=document.getElementById("memo"),save=document.getElementById("save");save.addEventListener("click",function(){storage.setItem("note",memo.value)});var storage=window.localStorage;document.addEventListener("DOMContentLoaded",function(){0!==storage.length&&(memo.value=storage.getItem("note"))});var fullscreen=document.getElementById("fullscreen");fullscreen.addEventListener("click",function(){screenfull.enabled&&screenfull.request()});var modal=document.getElementById("myModal"),btn=document.getElementById("myBtn"),span=document.getElementsByClassName("close")[0];btn.onclick=function(){modal.style.display="block"},span.onclick=function(){modal.style.display="none"},window.onclick=function(e){e.target==modal&&(modal.style.display="none")};var save_file=document.getElementById("save-file");save_file.addEventListener("click",function(){var e=new Blob([memo.value],{type:"text/plain;charset=utf-8"});saveAs(e,"text.txt")});var clear=document.getElementById("clear");clear.addEventListener("click",function(){memo.value=""});var saveAs=saveAs||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var n=function(){return e.URL||e.webkitURL||e},t=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in t,l=/constructor/i.test(e.HTMLElement)||e.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(n){(e.setImmediate||e.setTimeout)(function(){throw n},0)},i=function(e){setTimeout(function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()},4e4)},u=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},c=function(c,s,d){d||(c=u(c));var f,m=this,v="application/octet-stream"===c.type,w=function(){!function(e,n,t){for(var r=(n=[].concat(n)).length;r--;){var l=e["on"+n[r]];if("function"==typeof l)try{l.call(e,t||e)}catch(e){a(e)}}}(m,"writestart progress write writeend".split(" "))};if(m.readyState=m.INIT,r)return f=n().createObjectURL(c),void setTimeout(function(){t.href=f,t.download=s,function(e){var n=new MouseEvent("click");e.dispatchEvent(n)}(t),w(),i(f),m.readyState=m.DONE});!function(){if((o||v&&l)&&e.FileReader){var t=new FileReader;return t.onloadend=function(){var n=o?t.result:t.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(n,"_blank")||(e.location.href=n),n=void 0,m.readyState=m.DONE,w()},t.readAsDataURL(c),void(m.readyState=m.INIT)}f||(f=n().createObjectURL(c)),v?e.location.href=f:e.open(f,"_blank")||(e.location.href=f);m.readyState=m.DONE,w(),i(f)}()},s=c.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,n,t){return n=n||e.name||"download",t||(e=u(e)),navigator.msSaveOrOpenBlob(e,n)}:(s.abort=function(){},s.readyState=s.INIT=0,s.WRITING=1,s.DONE=2,s.error=s.onwritestart=s.onprogress=s.onwrite=s.onabort=s.onerror=s.onwriteend=null,function(e,n,t){return new c(e,n||e.name||"download",t)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs}),function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},n="undefined"!=typeof module&&module.exports,t="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,r=function(){for(var n,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,l=t.length,o={};r<l;r++)if((n=t[r])&&n[1]in e){for(r=0;r<n.length;r++)o[t[0][r]]=n[r];return o}return!1}(),l={change:r.fullscreenchange,error:r.fullscreenerror},o={request:function(n){var l=r.requestFullscreen;n=n||e.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?n[l]():n[l](t&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){e[r.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(n,t){var r=l[n];r&&e.addEventListener(r,t,!1)},off:function(n,t){var r=l[n];r&&e.removeEventListener(r,t,!1)},raw:r};r?(Object.defineProperties(o,{isFullscreen:{get:function(){return Boolean(e[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[r.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(e[r.fullscreenEnabled])}}}),n?module.exports=o:window.screenfull=o):n?module.exports=!1:window.screenfull=!1}();